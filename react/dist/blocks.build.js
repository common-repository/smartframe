/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 1);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/*!********************************!*\
  !*** external "wp.components" ***!
  \********************************/
/*! dynamic exports provided */
/*! exports used: Modal, SelectControl, Spinner */
/***/ (function(module, exports) {

module.exports = wp.components;

/***/ }),
/* 1 */
/*!***********************!*\
  !*** ./src/blocks.js ***!
  \***********************/
/*! no exports provided */
/*! all exports used */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__block_block_js__ = __webpack_require__(/*! ./block/block.js */ 2);\n/**\n * Gutenberg Blocks\n *\n * All blocks related JavaScript files should be imported here.\n * You can create a new block folder in this dir and include code\n * for that block here as well.\n *\n * All blocks should be included here since this is the file that\n * Webpack is compiling as the input file.\n */\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9ja3MuanM/N2I1YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEd1dGVuYmVyZyBCbG9ja3NcbiAqXG4gKiBBbGwgYmxvY2tzIHJlbGF0ZWQgSmF2YVNjcmlwdCBmaWxlcyBzaG91bGQgYmUgaW1wb3J0ZWQgaGVyZS5cbiAqIFlvdSBjYW4gY3JlYXRlIGEgbmV3IGJsb2NrIGZvbGRlciBpbiB0aGlzIGRpciBhbmQgaW5jbHVkZSBjb2RlXG4gKiBmb3IgdGhhdCBibG9jayBoZXJlIGFzIHdlbGwuXG4gKlxuICogQWxsIGJsb2NrcyBzaG91bGQgYmUgaW5jbHVkZWQgaGVyZSBzaW5jZSB0aGlzIGlzIHRoZSBmaWxlIHRoYXRcbiAqIFdlYnBhY2sgaXMgY29tcGlsaW5nIGFzIHRoZSBpbnB1dCBmaWxlLlxuICovXG5cbmltcG9ydCAnLi9ibG9jay9ibG9jay5qcyc7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2tzLmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/*!****************************!*\
  !*** ./src/block/block.js ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__style_scss__ = __webpack_require__(/*! ./style.scss */ 3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__style_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__style_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__editor_scss__ = __webpack_require__(/*! ./editor.scss */ 4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__editor_scss___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__editor_scss__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__wordpress_hooks__ = __webpack_require__(/*! @wordpress/hooks */ 5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__wordpress_hooks___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__wordpress_hooks__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react__ = __webpack_require__(/*! react */ 6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__guttenBerg_CustomMediaUpload__ = __webpack_require__(/*! ../guttenBerg/CustomMediaUpload */ 7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__image_ExtendedCoreImage__ = __webpack_require__(/*! ../image/ExtendedCoreImage */ 9);\n/**\n * BLOCK: my-block\n *\n * Registering a basic block with Gutenberg.\n * Simple block, renders and saves the same content without any interactivity.\n */\n\n//  Import CSS.\n\n\n// const {addFilter} = wp.hooks;\n\n\n\n\nvar __ = wp.i18n.__; // Import __() from wp.i18n\n\nvar registerBlockType = wp.blocks.registerBlockType; // Import registerBlockType() from wp.blocks\n\nvar createHigherOrderComponent = wp.compose.createHigherOrderComponent;\nvar Fragment = wp.element.Fragment;\nvar InspectorControls = wp.editor.InspectorControls;\nvar _wp$components = wp.components,\n    PanelBody = _wp$components.PanelBody,\n    TextControl = _wp$components.TextControl;\n\n\n\nvar CheckboxControl = wp.components.CheckboxControl;\nvar withState = wp.compose.withState;\n\n\nvar ImageBlockName = 'core/image';\n\n// var imageBlock = wp.blocks.unregisterBlockType(ImageBlockName);\n// registerBlockType(ImageBlockName, {});\n\n\nfunction replaceMediaUpload(FilteredComponent) {\n\n    var oldCustomMediaUpload = FilteredComponent.prototype.onSelect;\n    FilteredComponent.prototype.onSelect = function () {\n\n        this.frame.state().get('selection').models[0].attributes.alt = {\n            alt: this.frame.state().get('selection').models[0].attributes.alt,\n            smartframe_theme: this.frame.$el.find('.smartframe-theme-select').val(),\n            smartframe_caption: this.frame.$el.find('.smartframe-use-smartframe-caption').val(),\n            smartframe_use_smartframe: this.frame.$el.find('.smartframe-use-smartframe-checkbox').prop('checked')\n        };\n\n        oldCustomMediaUpload.apply(this);\n    };\n\n    return function (props) {\n        return wp.element.createElement(FilteredComponent, props);\n    };\n}\n\nconsole.log(__WEBPACK_IMPORTED_MODULE_4__guttenBerg_CustomMediaUpload__[\"a\" /* default */]);\n\nObject(__WEBPACK_IMPORTED_MODULE_2__wordpress_hooks__[\"addFilter\"])('editor.MediaUpload', 'core/edit-post/components/media-upload/replace-media-upload', replaceMediaUpload);\n\nvar addTextControl = createHigherOrderComponent(function (BlockEdit) {\n    return function (props) {\n        if (props.name !== ImageBlockName || props.attributes.url === undefined) {\n            return wp.element.createElement(BlockEdit, props);\n        }\n        var attributes = props.attributes,\n            setAttributes = props.setAttributes;\n\n        return wp.element.createElement(\n            Fragment,\n            null,\n            wp.element.createElement(BlockEdit, props),\n            wp.element.createElement(\n                InspectorControls,\n                null,\n                wp.element.createElement(__WEBPACK_IMPORTED_MODULE_5__image_ExtendedCoreImage__[\"a\" /* default */], props)\n            )\n        );\n    };\n}, \"withInspectorControl\");\n\nObject(__WEBPACK_IMPORTED_MODULE_2__wordpress_hooks__[\"addFilter\"])(\"editor.BlockEdit\", \"my-plugin/extra-attribute\", addTextControl);\n\n// Register/add the new attribute.\nvar addExtraAttribute = function addExtraAttribute(props) {\n    if (props.name !== ImageBlockName) {\n        return props;\n    }\n    var attributes = Object.assign({}, props.attributes, {\n\n        smartframe_caption: {\n            type: \"string\",\n            attribute: \"smartframe_caption\",\n            default: \"\"\n            // selector: \"figure\",\n            // source: \"attribute\",\n        },\n        smartframe_theme: {\n            type: \"string\",\n            attribute: \"smartframe_theme\",\n            default: \"\"\n            // selector: \"figure\",\n            // source: \"attribute\",\n        },\n        use_smartframe: {\n            type: \"string\",\n            attribute: \"use_smartframe\",\n            default: \"no\"\n            // selector: \"figure\",\n            // source: \"attribute\",\n        }\n    });\n\n    return Object.assign({}, props, { attributes: attributes });\n};\n\nObject(__WEBPACK_IMPORTED_MODULE_2__wordpress_hooks__[\"addFilter\"])(\"blocks.registerBlockType\", \"core/extra-attribute\", addExtraAttribute);\n\n// const addExtraData = (props, blockType, attributes) => {\n//     if (blockType.name !== ImageBlockName) {\n//         return props;\n//     }\n//\n//     return {\n//         ...props,\n//         ...{\n//             \"smartframe_caption\": attributes.smartframe_caption,\n//             \"smartframe_theme\": attributes.smartframe_theme,\n//             \"use_smartframe\": attributes.use_smartframe,\n//         }\n//     }\n// };\n//\n// addFilter(\n//     \"blocks.getSaveContent.extraProps\",\n//     \"my-plugin/extra-attribute\",\n//     addExtraData\n// );\n\n\nvar getBlockAttributes = function getBlockAttributes(attr, asd, asd2) {\n    // asd.edit()._store.validated = true;\n    return attr;\n};\n\nObject(__WEBPACK_IMPORTED_MODULE_2__wordpress_hooks__[\"addFilter\"])(\"blocks.getBlockAttributes\", \"my-plugin/extra-attribute\", getBlockAttributes);\n\nvar getSaveElemen = function getSaveElemen(element, asd, asd2) {\n    // if (element.name !== ImageBlockName) {\n    //     return element;\n    // }\n    return element;\n};\n\nObject(__WEBPACK_IMPORTED_MODULE_2__wordpress_hooks__[\"addFilter\"])(\"blocks.getSaveElement\", \"my-plugin/extra-attribute\", getSaveElemen);\n\n// Add extra props. Here we assign an html\n// data-attribute with the extra_attribute value.\n\nfunction addExtraPropsToHtml(props, blockType, attributes) {\n    //     if (blockType.name !== ImageBlockName) {\n    //     return props;\n    // }\n    return lodash.assign(props, {\n        \"smartframe_caption\": attributes.smartframe_caption,\n        \"smartframe_theme\": attributes.smartframe_theme,\n        \"use_smartframe\": attributes.use_smartframe\n    });\n}\n\nwp.hooks.addFilter('blocks.getSaveContent.extraProps', 'my-plugin/add-background-color-style', addExtraPropsToHtml);\n\n//Core Gallery Hooks//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9ibG9jay5qcz85MjFkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQkxPQ0s6IG15LWJsb2NrXG4gKlxuICogUmVnaXN0ZXJpbmcgYSBiYXNpYyBibG9jayB3aXRoIEd1dGVuYmVyZy5cbiAqIFNpbXBsZSBibG9jaywgcmVuZGVycyBhbmQgc2F2ZXMgdGhlIHNhbWUgY29udGVudCB3aXRob3V0IGFueSBpbnRlcmFjdGl2aXR5LlxuICovXG5cbi8vICBJbXBvcnQgQ1NTLlxuaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xuaW1wb3J0ICcuL2VkaXRvci5zY3NzJztcbi8vIGNvbnN0IHthZGRGaWx0ZXJ9ID0gd3AuaG9va3M7XG5pbXBvcnQgeyBhZGRGaWx0ZXIgfSBmcm9tICdAd29yZHByZXNzL2hvb2tzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgQ3VzdG9tTWVkaWFVcGxvYWQgZnJvbSAnLi4vZ3V0dGVuQmVyZy9DdXN0b21NZWRpYVVwbG9hZCc7XG5cbnZhciBfXyA9IHdwLmkxOG4uX187IC8vIEltcG9ydCBfXygpIGZyb20gd3AuaTE4blxuXG52YXIgcmVnaXN0ZXJCbG9ja1R5cGUgPSB3cC5ibG9ja3MucmVnaXN0ZXJCbG9ja1R5cGU7IC8vIEltcG9ydCByZWdpc3RlckJsb2NrVHlwZSgpIGZyb20gd3AuYmxvY2tzXG5cbnZhciBjcmVhdGVIaWdoZXJPcmRlckNvbXBvbmVudCA9IHdwLmNvbXBvc2UuY3JlYXRlSGlnaGVyT3JkZXJDb21wb25lbnQ7XG52YXIgRnJhZ21lbnQgPSB3cC5lbGVtZW50LkZyYWdtZW50O1xudmFyIEluc3BlY3RvckNvbnRyb2xzID0gd3AuZWRpdG9yLkluc3BlY3RvckNvbnRyb2xzO1xudmFyIF93cCRjb21wb25lbnRzID0gd3AuY29tcG9uZW50cyxcbiAgICBQYW5lbEJvZHkgPSBfd3AkY29tcG9uZW50cy5QYW5lbEJvZHksXG4gICAgVGV4dENvbnRyb2wgPSBfd3AkY29tcG9uZW50cy5UZXh0Q29udHJvbDtcblxuaW1wb3J0IEV4dGVuZGVkQ29yZUltYWdlIGZyb20gJy4uL2ltYWdlL0V4dGVuZGVkQ29yZUltYWdlJztcblxudmFyIENoZWNrYm94Q29udHJvbCA9IHdwLmNvbXBvbmVudHMuQ2hlY2tib3hDb250cm9sO1xudmFyIHdpdGhTdGF0ZSA9IHdwLmNvbXBvc2Uud2l0aFN0YXRlO1xuXG5cbnZhciBJbWFnZUJsb2NrTmFtZSA9ICdjb3JlL2ltYWdlJztcblxuLy8gdmFyIGltYWdlQmxvY2sgPSB3cC5ibG9ja3MudW5yZWdpc3RlckJsb2NrVHlwZShJbWFnZUJsb2NrTmFtZSk7XG4vLyByZWdpc3RlckJsb2NrVHlwZShJbWFnZUJsb2NrTmFtZSwge30pO1xuXG5cbmZ1bmN0aW9uIHJlcGxhY2VNZWRpYVVwbG9hZChGaWx0ZXJlZENvbXBvbmVudCkge1xuXG4gICAgdmFyIG9sZEN1c3RvbU1lZGlhVXBsb2FkID0gRmlsdGVyZWRDb21wb25lbnQucHJvdG90eXBlLm9uU2VsZWN0O1xuICAgIEZpbHRlcmVkQ29tcG9uZW50LnByb3RvdHlwZS5vblNlbGVjdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB0aGlzLmZyYW1lLnN0YXRlKCkuZ2V0KCdzZWxlY3Rpb24nKS5tb2RlbHNbMF0uYXR0cmlidXRlcy5hbHQgPSB7XG4gICAgICAgICAgICBhbHQ6IHRoaXMuZnJhbWUuc3RhdGUoKS5nZXQoJ3NlbGVjdGlvbicpLm1vZGVsc1swXS5hdHRyaWJ1dGVzLmFsdCxcbiAgICAgICAgICAgIHNtYXJ0ZnJhbWVfdGhlbWU6IHRoaXMuZnJhbWUuJGVsLmZpbmQoJy5zbWFydGZyYW1lLXRoZW1lLXNlbGVjdCcpLnZhbCgpLFxuICAgICAgICAgICAgc21hcnRmcmFtZV9jYXB0aW9uOiB0aGlzLmZyYW1lLiRlbC5maW5kKCcuc21hcnRmcmFtZS11c2Utc21hcnRmcmFtZS1jYXB0aW9uJykudmFsKCksXG4gICAgICAgICAgICBzbWFydGZyYW1lX3VzZV9zbWFydGZyYW1lOiB0aGlzLmZyYW1lLiRlbC5maW5kKCcuc21hcnRmcmFtZS11c2Utc21hcnRmcmFtZS1jaGVja2JveCcpLnByb3AoJ2NoZWNrZWQnKVxuICAgICAgICB9O1xuXG4gICAgICAgIG9sZEN1c3RvbU1lZGlhVXBsb2FkLmFwcGx5KHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoRmlsdGVyZWRDb21wb25lbnQsIHByb3BzKTtcbiAgICB9O1xufVxuXG5jb25zb2xlLmxvZyhDdXN0b21NZWRpYVVwbG9hZCk7XG5cbmFkZEZpbHRlcignZWRpdG9yLk1lZGlhVXBsb2FkJywgJ2NvcmUvZWRpdC1wb3N0L2NvbXBvbmVudHMvbWVkaWEtdXBsb2FkL3JlcGxhY2UtbWVkaWEtdXBsb2FkJywgcmVwbGFjZU1lZGlhVXBsb2FkKTtcblxudmFyIGFkZFRleHRDb250cm9sID0gY3JlYXRlSGlnaGVyT3JkZXJDb21wb25lbnQoZnVuY3Rpb24gKEJsb2NrRWRpdCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgaWYgKHByb3BzLm5hbWUgIT09IEltYWdlQmxvY2tOYW1lIHx8IHByb3BzLmF0dHJpYnV0ZXMudXJsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoQmxvY2tFZGl0LCBwcm9wcyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBwcm9wcy5hdHRyaWJ1dGVzLFxuICAgICAgICAgICAgc2V0QXR0cmlidXRlcyA9IHByb3BzLnNldEF0dHJpYnV0ZXM7XG5cbiAgICAgICAgcmV0dXJuIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIEZyYWdtZW50LFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChCbG9ja0VkaXQsIHByb3BzKSxcbiAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICBJbnNwZWN0b3JDb250cm9scyxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChFeHRlbmRlZENvcmVJbWFnZSwgcHJvcHMpXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfTtcbn0sIFwid2l0aEluc3BlY3RvckNvbnRyb2xcIik7XG5cbmFkZEZpbHRlcihcImVkaXRvci5CbG9ja0VkaXRcIiwgXCJteS1wbHVnaW4vZXh0cmEtYXR0cmlidXRlXCIsIGFkZFRleHRDb250cm9sKTtcblxuLy8gUmVnaXN0ZXIvYWRkIHRoZSBuZXcgYXR0cmlidXRlLlxudmFyIGFkZEV4dHJhQXR0cmlidXRlID0gZnVuY3Rpb24gYWRkRXh0cmFBdHRyaWJ1dGUocHJvcHMpIHtcbiAgICBpZiAocHJvcHMubmFtZSAhPT0gSW1hZ2VCbG9ja05hbWUpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH1cbiAgICB2YXIgYXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIHByb3BzLmF0dHJpYnV0ZXMsIHtcblxuICAgICAgICBzbWFydGZyYW1lX2NhcHRpb246IHtcbiAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBhdHRyaWJ1dGU6IFwic21hcnRmcmFtZV9jYXB0aW9uXCIsXG4gICAgICAgICAgICBkZWZhdWx0OiBcIlwiXG4gICAgICAgICAgICAvLyBzZWxlY3RvcjogXCJmaWd1cmVcIixcbiAgICAgICAgICAgIC8vIHNvdXJjZTogXCJhdHRyaWJ1dGVcIixcbiAgICAgICAgfSxcbiAgICAgICAgc21hcnRmcmFtZV90aGVtZToge1xuICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogXCJzbWFydGZyYW1lX3RoZW1lXCIsXG4gICAgICAgICAgICBkZWZhdWx0OiBcIlwiXG4gICAgICAgICAgICAvLyBzZWxlY3RvcjogXCJmaWd1cmVcIixcbiAgICAgICAgICAgIC8vIHNvdXJjZTogXCJhdHRyaWJ1dGVcIixcbiAgICAgICAgfSxcbiAgICAgICAgdXNlX3NtYXJ0ZnJhbWU6IHtcbiAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBhdHRyaWJ1dGU6IFwidXNlX3NtYXJ0ZnJhbWVcIixcbiAgICAgICAgICAgIGRlZmF1bHQ6IFwibm9cIlxuICAgICAgICAgICAgLy8gc2VsZWN0b3I6IFwiZmlndXJlXCIsXG4gICAgICAgICAgICAvLyBzb3VyY2U6IFwiYXR0cmlidXRlXCIsXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywgeyBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzIH0pO1xufTtcblxuYWRkRmlsdGVyKFwiYmxvY2tzLnJlZ2lzdGVyQmxvY2tUeXBlXCIsIFwiY29yZS9leHRyYS1hdHRyaWJ1dGVcIiwgYWRkRXh0cmFBdHRyaWJ1dGUpO1xuXG4vLyBjb25zdCBhZGRFeHRyYURhdGEgPSAocHJvcHMsIGJsb2NrVHlwZSwgYXR0cmlidXRlcykgPT4ge1xuLy8gICAgIGlmIChibG9ja1R5cGUubmFtZSAhPT0gSW1hZ2VCbG9ja05hbWUpIHtcbi8vICAgICAgICAgcmV0dXJuIHByb3BzO1xuLy8gICAgIH1cbi8vXG4vLyAgICAgcmV0dXJuIHtcbi8vICAgICAgICAgLi4ucHJvcHMsXG4vLyAgICAgICAgIC4uLntcbi8vICAgICAgICAgICAgIFwic21hcnRmcmFtZV9jYXB0aW9uXCI6IGF0dHJpYnV0ZXMuc21hcnRmcmFtZV9jYXB0aW9uLFxuLy8gICAgICAgICAgICAgXCJzbWFydGZyYW1lX3RoZW1lXCI6IGF0dHJpYnV0ZXMuc21hcnRmcmFtZV90aGVtZSxcbi8vICAgICAgICAgICAgIFwidXNlX3NtYXJ0ZnJhbWVcIjogYXR0cmlidXRlcy51c2Vfc21hcnRmcmFtZSxcbi8vICAgICAgICAgfVxuLy8gICAgIH1cbi8vIH07XG4vL1xuLy8gYWRkRmlsdGVyKFxuLy8gICAgIFwiYmxvY2tzLmdldFNhdmVDb250ZW50LmV4dHJhUHJvcHNcIixcbi8vICAgICBcIm15LXBsdWdpbi9leHRyYS1hdHRyaWJ1dGVcIixcbi8vICAgICBhZGRFeHRyYURhdGFcbi8vICk7XG5cblxudmFyIGdldEJsb2NrQXR0cmlidXRlcyA9IGZ1bmN0aW9uIGdldEJsb2NrQXR0cmlidXRlcyhhdHRyLCBhc2QsIGFzZDIpIHtcbiAgICAvLyBhc2QuZWRpdCgpLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgIHJldHVybiBhdHRyO1xufTtcblxuYWRkRmlsdGVyKFwiYmxvY2tzLmdldEJsb2NrQXR0cmlidXRlc1wiLCBcIm15LXBsdWdpbi9leHRyYS1hdHRyaWJ1dGVcIiwgZ2V0QmxvY2tBdHRyaWJ1dGVzKTtcblxudmFyIGdldFNhdmVFbGVtZW4gPSBmdW5jdGlvbiBnZXRTYXZlRWxlbWVuKGVsZW1lbnQsIGFzZCwgYXNkMikge1xuICAgIC8vIGlmIChlbGVtZW50Lm5hbWUgIT09IEltYWdlQmxvY2tOYW1lKSB7XG4gICAgLy8gICAgIHJldHVybiBlbGVtZW50O1xuICAgIC8vIH1cbiAgICByZXR1cm4gZWxlbWVudDtcbn07XG5cbmFkZEZpbHRlcihcImJsb2Nrcy5nZXRTYXZlRWxlbWVudFwiLCBcIm15LXBsdWdpbi9leHRyYS1hdHRyaWJ1dGVcIiwgZ2V0U2F2ZUVsZW1lbik7XG5cbi8vIEFkZCBleHRyYSBwcm9wcy4gSGVyZSB3ZSBhc3NpZ24gYW4gaHRtbFxuLy8gZGF0YS1hdHRyaWJ1dGUgd2l0aCB0aGUgZXh0cmFfYXR0cmlidXRlIHZhbHVlLlxuXG5mdW5jdGlvbiBhZGRFeHRyYVByb3BzVG9IdG1sKHByb3BzLCBibG9ja1R5cGUsIGF0dHJpYnV0ZXMpIHtcbiAgICAvLyAgICAgaWYgKGJsb2NrVHlwZS5uYW1lICE9PSBJbWFnZUJsb2NrTmFtZSkge1xuICAgIC8vICAgICByZXR1cm4gcHJvcHM7XG4gICAgLy8gfVxuICAgIHJldHVybiBsb2Rhc2guYXNzaWduKHByb3BzLCB7XG4gICAgICAgIFwic21hcnRmcmFtZV9jYXB0aW9uXCI6IGF0dHJpYnV0ZXMuc21hcnRmcmFtZV9jYXB0aW9uLFxuICAgICAgICBcInNtYXJ0ZnJhbWVfdGhlbWVcIjogYXR0cmlidXRlcy5zbWFydGZyYW1lX3RoZW1lLFxuICAgICAgICBcInVzZV9zbWFydGZyYW1lXCI6IGF0dHJpYnV0ZXMudXNlX3NtYXJ0ZnJhbWVcbiAgICB9KTtcbn1cblxud3AuaG9va3MuYWRkRmlsdGVyKCdibG9ja3MuZ2V0U2F2ZUNvbnRlbnQuZXh0cmFQcm9wcycsICdteS1wbHVnaW4vYWRkLWJhY2tncm91bmQtY29sb3Itc3R5bGUnLCBhZGRFeHRyYVByb3BzVG9IdG1sKTtcblxuLy9Db3JlIEdhbGxlcnkgSG9va3NcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9ibG9jay9ibG9jay5qc1xuLy8gbW9kdWxlIGlkID0gMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/*!******************************!*\
  !*** ./src/block/style.scss ***!
  \******************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9zdHlsZS5zY3NzPzgwZjMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9ibG9jay9zdHlsZS5zY3NzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/*!*******************************!*\
  !*** ./src/block/editor.scss ***!
  \*******************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ibG9jay9lZGl0b3Iuc2Nzcz80OWQyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmxvY2svZWRpdG9yLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/*!***************************!*\
  !*** external "wp.hooks" ***!
  \***************************/
/*! dynamic exports provided */
/*! exports used: addFilter */
/***/ (function(module, exports) {

module.exports = wp.hooks;

/***/ }),
/* 6 */
/*!************************!*\
  !*** external "React" ***!
  \************************/
/*! dynamic exports provided */
/***/ (function(module, exports) {

module.exports = React;

/***/ }),
/* 7 */
/*!*********************************************!*\
  !*** ./src/guttenBerg/CustomMediaUpload.js ***!
  \*********************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__wordpress_editor__ = __webpack_require__(/*! @wordpress/editor */ 8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__wordpress_editor___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__wordpress_editor__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\nvar CustomMediaUpload = function (_MediaUpload) {\n  _inherits(CustomMediaUpload, _MediaUpload);\n\n  function CustomMediaUpload() {\n    _classCallCheck(this, CustomMediaUpload);\n\n    return _possibleConstructorReturn(this, (CustomMediaUpload.__proto__ || Object.getPrototypeOf(CustomMediaUpload)).apply(this, arguments));\n  }\n\n  return CustomMediaUpload;\n}(__WEBPACK_IMPORTED_MODULE_0__wordpress_editor__[\"MediaUpload\"]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (CustomMediaUpload);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9ndXR0ZW5CZXJnL0N1c3RvbU1lZGlhVXBsb2FkLmpzPzUyYzEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5pbXBvcnQgeyBNZWRpYVVwbG9hZCB9IGZyb20gJ0B3b3JkcHJlc3MvZWRpdG9yJztcblxudmFyIEN1c3RvbU1lZGlhVXBsb2FkID0gZnVuY3Rpb24gKF9NZWRpYVVwbG9hZCkge1xuICBfaW5oZXJpdHMoQ3VzdG9tTWVkaWFVcGxvYWQsIF9NZWRpYVVwbG9hZCk7XG5cbiAgZnVuY3Rpb24gQ3VzdG9tTWVkaWFVcGxvYWQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEN1c3RvbU1lZGlhVXBsb2FkKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ3VzdG9tTWVkaWFVcGxvYWQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDdXN0b21NZWRpYVVwbG9hZCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIEN1c3RvbU1lZGlhVXBsb2FkO1xufShNZWRpYVVwbG9hZCk7XG5cbmV4cG9ydCBkZWZhdWx0IEN1c3RvbU1lZGlhVXBsb2FkO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2d1dHRlbkJlcmcvQ3VzdG9tTWVkaWFVcGxvYWQuanNcbi8vIG1vZHVsZSBpZCA9IDdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n");

/***/ }),
/* 8 */
/*!****************************!*\
  !*** external "wp.editor" ***!
  \****************************/
/*! dynamic exports provided */
/*! exports used: MediaUpload */
/***/ (function(module, exports) {

module.exports = wp.editor;

/***/ }),
/* 9 */
/*!****************************************!*\
  !*** ./src/image/ExtendedCoreImage.js ***!
  \****************************************/
/*! exports provided: default */
/*! exports used: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__wordpress_components__ = __webpack_require__(/*! @wordpress/components */ 0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__wordpress_components___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__wordpress_components__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Fragment = wp.element.Fragment;\nvar InspectorControls = wp.editor.InspectorControls;\nvar _wp$components = wp.components,\n    PanelBody = _wp$components.PanelBody,\n    TextControl = _wp$components.TextControl;\n\n\n\nvar CheckboxControl = wp.components.CheckboxControl;\n\n\n\nfunction geDefaultTheme() {\n\n    if (SmartFrameAvailableThemes.length >= 1) {\n        return SmartFrameAvailableThemes[0].value;\n    }\n    return \"\";\n}\n\nvar ExtendedCoreImage = function (_TextControl) {\n    _inherits(ExtendedCoreImage, _TextControl);\n\n    function ExtendedCoreImage(props) {\n        _classCallCheck(this, ExtendedCoreImage);\n\n        var _this = _possibleConstructorReturn(this, (ExtendedCoreImage.__proto__ || Object.getPrototypeOf(ExtendedCoreImage)).call(this, props));\n\n        _this.maxImageWidth = 320;\n        _this.maxImageHeight = 120;\n        _this.state = {\n            imageUrl: \"\",\n            imageDimension: {\n                naturalWidth: 0,\n                naturalHeight: 0,\n                refreshingImage: false\n            },\n\n            inputsValues: [{ caption: '' }],\n            isOpen: false,\n            smartFrame: '',\n            useSmartFrameBlob: false\n        };\n\n        _this.checkImageIsUploadingAndAddDefaultOptions = function () {\n            if (undefined !== _this.props.attributes.url) {\n                var myRe = /^blob/g;\n                if (myRe.exec(_this.props.attributes.url) !== null) {\n                    _this.checkImageDimension2(_this.props.attributes.url);\n                }\n            }\n        };\n\n        _this.checkImageIsJpg = function () {\n            if (undefined !== _this.props.attributes.url) {\n                var myRe = /w*.jpg/g;\n                if (myRe.exec(_this.props.attributes.url) !== null) {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        _this.extractDataFromAlt = function () {\n            var theme = \"\";\n\n            if (_this.props.attributes.alt.smartframe_theme === undefined && _this.props.attributes.smartframe_theme === \"\") {\n                theme = geDefaultTheme();\n                _this.props.setAttributes({\n                    smartframe_theme: theme\n                });\n            }\n            if (_this.props.attributes.alt.smartframe_use_smartframe !== undefined) {\n                _this.props.setAttributes({\n                    smartframe_theme: _this.props.attributes.alt.smartframe_theme,\n                    smartframe_caption: _this.props.attributes.alt.smartframe_caption,\n                    use_smartframe: _this.props.attributes.alt.smartframe_use_smartframe ? 'yes' : 'no',\n                    alt: _this.props.attributes.alt.alt\n                });\n            }\n        };\n\n        _this.generateSmartFrame = function (value) {\n            {\n                _this.props.setAttributes({ use_smartframe: value ? 'yes' : 'no' });\n                if (value === true) {\n                    $.ajax({\n                        url: ajaxurl, // or example_ajax_obj.ajaxurl if using on frontend\n                        data: {\n                            'action': 'loadSmartFrameByPostId',\n                            'imageId': _this.props.attributes.id\n                        },\n                        success: function success(data) {\n                            console.log(data);\n                        },\n                        error: function error(errorThrown) {\n                            console.log(errorThrown);\n                        }\n                    });\n                }\n            }\n        };\n\n        _this.openModal = function (event) {\n            var that = _this;\n            _this.setState({ isOpen: true });\n            $.ajax({\n                url: ajaxurl, // or example_ajax_obj.ajaxurl if using on frontend\n                data: {\n                    'action': 'loadSmartFrameByPostId',\n                    'imageId': _this.props.attributes.id\n                },\n                success: function success(data) {\n                    //\n                    var template = $($.parseHTML(data.template));\n                    template.attr('theme', that.props.attributes.smartframe_theme);\n                    template.css('width', that.state.imageDimension.naturalWidth + 'px');\n                    template.css('height', that.state.imageDimension.naturalHeight + 'px');\n                    that.setState({ smartFrame: template.get(0).outerHTML });\n                },\n                error: function error(errorThrown) {\n                    console.log(errorThrown);\n                }\n            });\n        };\n\n        _this.sendSaveCaptionCall = function (value) {\n            var that = _this;\n\n            _this.props.setAttributes({ smartframe_caption: value });\n            $.ajax({\n                url: ajaxurl, // or example_ajax_obj.ajaxurl if using on frontend\n                data: {\n                    'action': 'saveCaptionForAttachment',\n                    'imageId': _this.props.attributes.id,\n                    'caption': value\n                },\n                success: function success(data) {},\n                error: function error(errorThrown) {\n                    console.log(errorThrown);\n                }\n            });\n        };\n\n        _this.extractDataFromAlt();\n        _this.checkImageIsUploadingAndAddDefaultOptions(_this.props);\n        _this.getCurrentCaption(props.attributes.id);\n        return _this;\n    }\n\n    _createClass(ExtendedCoreImage, [{\n        key: 'checkImageDimension',\n        value: function checkImageDimension(url) {\n\n            if (url !== this.state.imageUrl || this.state.imageDimension.refreshingImage === false) {\n                var img = new Image();\n                var that = this;\n                that.state.imageDimension.refreshingImage = true;\n                img.addEventListener(\"load\", function () {\n                    setTimeout(function () {\n                        that.state.imageDimension.refreshingImage = false;\n                    }, 1000);\n                    that.setState({\n                        imageUrl: url, imageDimension: {\n                            naturalWidth: this.naturalWidth,\n                            naturalHeight: this.naturalHeight\n                        }\n                    });\n                });\n                img.src = url;\n            }\n        }\n    }, {\n        key: 'checkImageDimension2',\n        value: function checkImageDimension2(url) {\n\n            var img = new Image();\n            var that = this;\n            that.state.imageDimension.refreshingImage = true;\n            img.addEventListener(\"load\", function () {\n\n                if (this.naturalWidth > SmartFrameSettings.minWidth && this.naturalHeight > SmartFrameSettings.minHeight && SmartFrameConvertAllImages && !SmartFrameStorageExceeded) {\n                    that.props.attributes.use_smartframe = 'yes';\n                    that.setState({\n                        useSmartFrameBlob: true\n                    });\n                }\n            });\n            img.src = url;\n        }\n    }, {\n        key: 'getCurrentCaption',\n        value: function getCurrentCaption(imageId) {\n            var that = this;\n\n            $.ajax({\n                url: ajaxurl, // or example_ajax_obj.ajaxurl if using on frontend\n                data: {\n                    'action': 'getCaptionForAttachment',\n                    'imageId': imageId\n                },\n                success: function success(data) {\n                    if (that.props.attributes.smartframe_caption !== data.smartframeCaption) {\n                        that.props.setAttributes({ smartframe_caption: data.smartframeCaption });\n                    }\n                },\n                error: function error(errorThrown) {}\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            this.extractDataFromAlt();\n            if (this.props.attributes.width === undefined && this.props.attributes.height === undefined) {\n                this.checkImageDimension(this.props.attributes.url);\n            } else {\n                this.state.imageDimension.naturalWidth = this.props.attributes.width;\n                this.state.imageDimension.naturalHeight = this.props.attributes.height;\n            }\n            var _props = this.props,\n                attributes = _props.attributes,\n                setAttributes = _props.setAttributes;\n\n\n            if (SmartFrameCode === 0) {\n\n                return wp.element.createElement(\n                    PanelBody,\n                    { title: 'SmartFrame Settings' },\n                    wp.element.createElement(\n                        'p',\n                        null,\n                        'In this section you can enable or disable SmartFrame and apply your favourite theme or caption. Please note that SmartFrame supports JPEG only. '\n                    ),\n                    wp.element.createElement(\n                        'a',\n                        { href: SmartFrameUrl.settingsPage },\n                        'Enable SmartFrame for your website'\n                    )\n                );\n            }\n\n            var captionAndTheme = '';\n            var imageDimmensionAlert = '';\n            var checkBoxUseSmartframe = '';\n            var storageInfo = '';\n            var seePreview = '';\n\n            if (SmartFrameStorageExceeded) {\n                storageInfo = wp.element.createElement(\n                    'p',\n                    { style: { color: 'red' } },\n                    'You reached the SmartFrame storage limit.\\xA0',\n                    wp.element.createElement(\n                        'a',\n                        { target: '_blank', href: SmartFrameUrl.upgradePlan },\n                        'Upgrade your plan'\n                    )\n                );\n            } else {\n                seePreview = wp.element.createElement(\n                    'span',\n                    null,\n                    ' - ',\n                    wp.element.createElement(\n                        'a',\n                        { className: 'smartframe-modal-preview-open', href: '#',\n                            onClick: this.openModal },\n                        'See preview'\n                    )\n                );\n            }\n\n            var loc = new URL(attributes.url);\n            if (loc.hostname === window.location.hostname) {\n\n                checkBoxUseSmartframe = wp.element.createElement(CheckboxControl, {\n                    label: wp.element.createElement(\n                        'span',\n                        null,\n                        ' Use as SmartFrame ',\n                        seePreview\n                    ),\n                    checked: attributes.use_smartframe === 'yes',\n                    disabled: SmartFrameStorageExceeded,\n                    onChange: this.generateSmartFrame\n                });\n                if (this.maxImageWidth > this.state.imageDimension.naturalWidth || this.maxImageHeight > this.state.imageDimension.naturalHeight) {\n                    if (!SmartFrameStorageExceeded) {\n                        imageDimmensionAlert = wp.element.createElement(\n                            'div',\n                            null,\n                            wp.element.createElement(\n                                'div',\n                                { className: 'components-base-control__field' },\n                                wp.element.createElement(\n                                    'p',\n                                    { className: '' },\n                                    '\\u26A0\\uFE0F SmartFrame theme and caption are not available when image dimensions are smaller than 320x120px.'\n                                )\n                            )\n                        );\n                    }\n                } else {\n                    captionAndTheme = wp.element.createElement(\n                        'div',\n                        null,\n                        wp.element.createElement(__WEBPACK_IMPORTED_MODULE_0__wordpress_components__[\"SelectControl\"], {\n                            label: 'Smartframe Theme',\n                            value: attributes.smartframe_theme,\n                            options: SmartFrameAvailableThemes,\n                            onChange: function onChange(value) {\n                                setAttributes({ smartframe_theme: value });\n                            },\n                            disabled: attributes.use_smartframe === 'no' || attributes.use_smartframe === false\n                        }),\n                        wp.element.createElement(\n                            'a',\n                            { className: 'smartframe--manage-themes-image-edit',\n                                href: SmartFrameUrl.manageThemes,\n                                target: '_blank' },\n                            'Manage themes'\n                        ),\n                        wp.element.createElement(TextControl, {\n                            label: 'Smartframe Caption',\n                            value: attributes.smartframe_caption,\n                            onChange: this.sendSaveCaptionCall,\n                            disabled: attributes.use_smartframe === 'no' || attributes.use_smartframe === false\n                        })\n                    );\n                }\n            } else {\n                var myRe = /^blob/g;\n                if (myRe.exec(this.props.attributes.url) === null) {\n                    checkBoxUseSmartframe = wp.element.createElement(\n                        'div',\n                        null,\n                        wp.element.createElement(\n                            'div',\n                            { className: 'components-base-control__field' },\n                            wp.element.createElement(\n                                'p',\n                                { className: '' },\n                                '\\u26A0\\uFE0F SmartFrame is available only for images stored in the Media Library. '\n                            )\n                        )\n                    );\n                }\n            }\n\n            if (!this.checkImageIsJpg()) {\n                return wp.element.createElement(\n                    PanelBody,\n                    { title: 'SmartFrame Settings' },\n                    wp.element.createElement(\n                        'p',\n                        null,\n                        'In this section you can enable or disable SmartFrame and apply your favourite theme or caption. Please note that SmartFrame supports JPEG only.'\n                    ),\n                    loc.hostname !== window.location.hostname && checkBoxUseSmartframe\n                );\n            }\n\n            return wp.element.createElement(\n                PanelBody,\n                { title: 'SmartFrame Settings' },\n                wp.element.createElement(\n                    'p',\n                    null,\n                    'In this section you can enable or disable SmartFrame and apply your favourite theme or caption. Please note that SmartFrame supports JPEG only.'\n                ),\n                imageDimmensionAlert,\n                storageInfo,\n                checkBoxUseSmartframe,\n                this.state.isOpen && wp.element.createElement(\n                    __WEBPACK_IMPORTED_MODULE_0__wordpress_components__[\"Modal\"],\n                    {\n                        className: 'smartframe-modal-preview',\n                        title: 'SmartFrame Preview',\n                        onRequestClose: function onRequestClose() {\n                            return _this2.setState({ isOpen: false, smartFrame: '' });\n                        } },\n                    this.state.smartFrame === '' && wp.element.createElement(\n                        'div',\n                        { className: 'smartframe-modal-preview-content' },\n                        wp.element.createElement(__WEBPACK_IMPORTED_MODULE_0__wordpress_components__[\"Spinner\"], { className: 'smartframe-preview-spinner' })\n                    ),\n                    wp.element.createElement('div', { className: 'smartframe-modal-preview-smartframe',\n                        dangerouslySetInnerHTML: { __html: this.state.smartFrame } })\n                ),\n                captionAndTheme\n            );\n        }\n    }]);\n\n    return ExtendedCoreImage;\n}(TextControl);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ExtendedCoreImage);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbWFnZS9FeHRlbmRlZENvcmVJbWFnZS5qcz9kZjdmIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEZyYWdtZW50ID0gd3AuZWxlbWVudC5GcmFnbWVudDtcbnZhciBJbnNwZWN0b3JDb250cm9scyA9IHdwLmVkaXRvci5JbnNwZWN0b3JDb250cm9scztcbnZhciBfd3AkY29tcG9uZW50cyA9IHdwLmNvbXBvbmVudHMsXG4gICAgUGFuZWxCb2R5ID0gX3dwJGNvbXBvbmVudHMuUGFuZWxCb2R5LFxuICAgIFRleHRDb250cm9sID0gX3dwJGNvbXBvbmVudHMuVGV4dENvbnRyb2w7XG5cbmltcG9ydCB7IFNwaW5uZXIgfSBmcm9tICdAd29yZHByZXNzL2NvbXBvbmVudHMnO1xuXG52YXIgQ2hlY2tib3hDb250cm9sID0gd3AuY29tcG9uZW50cy5DaGVja2JveENvbnRyb2w7XG5cbmltcG9ydCB7IFNlbGVjdENvbnRyb2wsIEJ1dHRvbiwgTW9kYWwgfSBmcm9tICdAd29yZHByZXNzL2NvbXBvbmVudHMnO1xuXG5mdW5jdGlvbiBnZURlZmF1bHRUaGVtZSgpIHtcblxuICAgIGlmIChTbWFydEZyYW1lQXZhaWxhYmxlVGhlbWVzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgIHJldHVybiBTbWFydEZyYW1lQXZhaWxhYmxlVGhlbWVzWzBdLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbn1cblxudmFyIEV4dGVuZGVkQ29yZUltYWdlID0gZnVuY3Rpb24gKF9UZXh0Q29udHJvbCkge1xuICAgIF9pbmhlcml0cyhFeHRlbmRlZENvcmVJbWFnZSwgX1RleHRDb250cm9sKTtcblxuICAgIGZ1bmN0aW9uIEV4dGVuZGVkQ29yZUltYWdlKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFeHRlbmRlZENvcmVJbWFnZSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEV4dGVuZGVkQ29yZUltYWdlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRXh0ZW5kZWRDb3JlSW1hZ2UpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMubWF4SW1hZ2VXaWR0aCA9IDMyMDtcbiAgICAgICAgX3RoaXMubWF4SW1hZ2VIZWlnaHQgPSAxMjA7XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaW1hZ2VVcmw6IFwiXCIsXG4gICAgICAgICAgICBpbWFnZURpbWVuc2lvbjoge1xuICAgICAgICAgICAgICAgIG5hdHVyYWxXaWR0aDogMCxcbiAgICAgICAgICAgICAgICBuYXR1cmFsSGVpZ2h0OiAwLFxuICAgICAgICAgICAgICAgIHJlZnJlc2hpbmdJbWFnZTogZmFsc2VcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGlucHV0c1ZhbHVlczogW3sgY2FwdGlvbjogJycgfV0sXG4gICAgICAgICAgICBpc09wZW46IGZhbHNlLFxuICAgICAgICAgICAgc21hcnRGcmFtZTogJycsXG4gICAgICAgICAgICB1c2VTbWFydEZyYW1lQmxvYjogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5jaGVja0ltYWdlSXNVcGxvYWRpbmdBbmRBZGREZWZhdWx0T3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh1bmRlZmluZWQgIT09IF90aGlzLnByb3BzLmF0dHJpYnV0ZXMudXJsKSB7XG4gICAgICAgICAgICAgICAgdmFyIG15UmUgPSAvXmJsb2IvZztcbiAgICAgICAgICAgICAgICBpZiAobXlSZS5leGVjKF90aGlzLnByb3BzLmF0dHJpYnV0ZXMudXJsKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jaGVja0ltYWdlRGltZW5zaW9uMihfdGhpcy5wcm9wcy5hdHRyaWJ1dGVzLnVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmNoZWNrSW1hZ2VJc0pwZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh1bmRlZmluZWQgIT09IF90aGlzLnByb3BzLmF0dHJpYnV0ZXMudXJsKSB7XG4gICAgICAgICAgICAgICAgdmFyIG15UmUgPSAvdyouanBnL2c7XG4gICAgICAgICAgICAgICAgaWYgKG15UmUuZXhlYyhfdGhpcy5wcm9wcy5hdHRyaWJ1dGVzLnVybCkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIF90aGlzLmV4dHJhY3REYXRhRnJvbUFsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0aGVtZSA9IFwiXCI7XG5cbiAgICAgICAgICAgIGlmIChfdGhpcy5wcm9wcy5hdHRyaWJ1dGVzLmFsdC5zbWFydGZyYW1lX3RoZW1lID09PSB1bmRlZmluZWQgJiYgX3RoaXMucHJvcHMuYXR0cmlidXRlcy5zbWFydGZyYW1lX3RoZW1lID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgdGhlbWUgPSBnZURlZmF1bHRUaGVtZSgpO1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICBzbWFydGZyYW1lX3RoZW1lOiB0aGVtZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLnByb3BzLmF0dHJpYnV0ZXMuYWx0LnNtYXJ0ZnJhbWVfdXNlX3NtYXJ0ZnJhbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnByb3BzLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICBzbWFydGZyYW1lX3RoZW1lOiBfdGhpcy5wcm9wcy5hdHRyaWJ1dGVzLmFsdC5zbWFydGZyYW1lX3RoZW1lLFxuICAgICAgICAgICAgICAgICAgICBzbWFydGZyYW1lX2NhcHRpb246IF90aGlzLnByb3BzLmF0dHJpYnV0ZXMuYWx0LnNtYXJ0ZnJhbWVfY2FwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdXNlX3NtYXJ0ZnJhbWU6IF90aGlzLnByb3BzLmF0dHJpYnV0ZXMuYWx0LnNtYXJ0ZnJhbWVfdXNlX3NtYXJ0ZnJhbWUgPyAneWVzJyA6ICdubycsXG4gICAgICAgICAgICAgICAgICAgIGFsdDogX3RoaXMucHJvcHMuYXR0cmlidXRlcy5hbHQuYWx0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuZ2VuZXJhdGVTbWFydEZyYW1lID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgX3RoaXMucHJvcHMuc2V0QXR0cmlidXRlcyh7IHVzZV9zbWFydGZyYW1lOiB2YWx1ZSA/ICd5ZXMnIDogJ25vJyB9KTtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogYWpheHVybCwgLy8gb3IgZXhhbXBsZV9hamF4X29iai5hamF4dXJsIGlmIHVzaW5nIG9uIGZyb250ZW5kXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FjdGlvbic6ICdsb2FkU21hcnRGcmFtZUJ5UG9zdElkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW1hZ2VJZCc6IF90aGlzLnByb3BzLmF0dHJpYnV0ZXMuaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5vcGVuTW9kYWwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gX3RoaXM7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGlzT3BlbjogdHJ1ZSB9KTtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiBhamF4dXJsLCAvLyBvciBleGFtcGxlX2FqYXhfb2JqLmFqYXh1cmwgaWYgdXNpbmcgb24gZnJvbnRlbmRcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICdhY3Rpb24nOiAnbG9hZFNtYXJ0RnJhbWVCeVBvc3RJZCcsXG4gICAgICAgICAgICAgICAgICAgICdpbWFnZUlkJzogX3RoaXMucHJvcHMuYXR0cmlidXRlcy5pZFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9ICQoJC5wYXJzZUhUTUwoZGF0YS50ZW1wbGF0ZSkpO1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5hdHRyKCd0aGVtZScsIHRoYXQucHJvcHMuYXR0cmlidXRlcy5zbWFydGZyYW1lX3RoZW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUuY3NzKCd3aWR0aCcsIHRoYXQuc3RhdGUuaW1hZ2VEaW1lbnNpb24ubmF0dXJhbFdpZHRoICsgJ3B4Jyk7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLmNzcygnaGVpZ2h0JywgdGhhdC5zdGF0ZS5pbWFnZURpbWVuc2lvbi5uYXR1cmFsSGVpZ2h0ICsgJ3B4Jyk7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc2V0U3RhdGUoeyBzbWFydEZyYW1lOiB0ZW1wbGF0ZS5nZXQoMCkub3V0ZXJIVE1MIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKGVycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yVGhyb3duKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBfdGhpcy5zZW5kU2F2ZUNhcHRpb25DYWxsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IF90aGlzO1xuXG4gICAgICAgICAgICBfdGhpcy5wcm9wcy5zZXRBdHRyaWJ1dGVzKHsgc21hcnRmcmFtZV9jYXB0aW9uOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiBhamF4dXJsLCAvLyBvciBleGFtcGxlX2FqYXhfb2JqLmFqYXh1cmwgaWYgdXNpbmcgb24gZnJvbnRlbmRcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICdhY3Rpb24nOiAnc2F2ZUNhcHRpb25Gb3JBdHRhY2htZW50JyxcbiAgICAgICAgICAgICAgICAgICAgJ2ltYWdlSWQnOiBfdGhpcy5wcm9wcy5hdHRyaWJ1dGVzLmlkLFxuICAgICAgICAgICAgICAgICAgICAnY2FwdGlvbic6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKGRhdGEpIHt9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihlcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvclRocm93bik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX3RoaXMuZXh0cmFjdERhdGFGcm9tQWx0KCk7XG4gICAgICAgIF90aGlzLmNoZWNrSW1hZ2VJc1VwbG9hZGluZ0FuZEFkZERlZmF1bHRPcHRpb25zKF90aGlzLnByb3BzKTtcbiAgICAgICAgX3RoaXMuZ2V0Q3VycmVudENhcHRpb24ocHJvcHMuYXR0cmlidXRlcy5pZCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRXh0ZW5kZWRDb3JlSW1hZ2UsIFt7XG4gICAgICAgIGtleTogJ2NoZWNrSW1hZ2VEaW1lbnNpb24nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tJbWFnZURpbWVuc2lvbih1cmwpIHtcblxuICAgICAgICAgICAgaWYgKHVybCAhPT0gdGhpcy5zdGF0ZS5pbWFnZVVybCB8fCB0aGlzLnN0YXRlLmltYWdlRGltZW5zaW9uLnJlZnJlc2hpbmdJbWFnZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHRoYXQuc3RhdGUuaW1hZ2VEaW1lbnNpb24ucmVmcmVzaGluZ0ltYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc3RhdGUuaW1hZ2VEaW1lbnNpb24ucmVmcmVzaGluZ0ltYWdlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiB1cmwsIGltYWdlRGltZW5zaW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0dXJhbFdpZHRoOiB0aGlzLm5hdHVyYWxXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXR1cmFsSGVpZ2h0OiB0aGlzLm5hdHVyYWxIZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY2hlY2tJbWFnZURpbWVuc2lvbjInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2hlY2tJbWFnZURpbWVuc2lvbjIodXJsKSB7XG5cbiAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgICAgIHRoYXQuc3RhdGUuaW1hZ2VEaW1lbnNpb24ucmVmcmVzaGluZ0ltYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5uYXR1cmFsV2lkdGggPiBTbWFydEZyYW1lU2V0dGluZ3MubWluV2lkdGggJiYgdGhpcy5uYXR1cmFsSGVpZ2h0ID4gU21hcnRGcmFtZVNldHRpbmdzLm1pbkhlaWdodCAmJiBTbWFydEZyYW1lQ29udmVydEFsbEltYWdlcyAmJiAhU21hcnRGcmFtZVN0b3JhZ2VFeGNlZWRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnByb3BzLmF0dHJpYnV0ZXMudXNlX3NtYXJ0ZnJhbWUgPSAneWVzJztcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VTbWFydEZyYW1lQmxvYjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGltZy5zcmMgPSB1cmw7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldEN1cnJlbnRDYXB0aW9uJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnRDYXB0aW9uKGltYWdlSWQpIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6IGFqYXh1cmwsIC8vIG9yIGV4YW1wbGVfYWpheF9vYmouYWpheHVybCBpZiB1c2luZyBvbiBmcm9udGVuZFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2FjdGlvbic6ICdnZXRDYXB0aW9uRm9yQXR0YWNobWVudCcsXG4gICAgICAgICAgICAgICAgICAgICdpbWFnZUlkJzogaW1hZ2VJZFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGF0LnByb3BzLmF0dHJpYnV0ZXMuc21hcnRmcmFtZV9jYXB0aW9uICE9PSBkYXRhLnNtYXJ0ZnJhbWVDYXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnByb3BzLnNldEF0dHJpYnV0ZXMoeyBzbWFydGZyYW1lX2NhcHRpb246IGRhdGEuc21hcnRmcmFtZUNhcHRpb24gfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcihlcnJvclRocm93bikge31cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHRoaXMuZXh0cmFjdERhdGFGcm9tQWx0KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5hdHRyaWJ1dGVzLndpZHRoID09PSB1bmRlZmluZWQgJiYgdGhpcy5wcm9wcy5hdHRyaWJ1dGVzLmhlaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0ltYWdlRGltZW5zaW9uKHRoaXMucHJvcHMuYXR0cmlidXRlcy51cmwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmltYWdlRGltZW5zaW9uLm5hdHVyYWxXaWR0aCA9IHRoaXMucHJvcHMuYXR0cmlidXRlcy53aWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmltYWdlRGltZW5zaW9uLm5hdHVyYWxIZWlnaHQgPSB0aGlzLnByb3BzLmF0dHJpYnV0ZXMuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IF9wcm9wcy5hdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgIHNldEF0dHJpYnV0ZXMgPSBfcHJvcHMuc2V0QXR0cmlidXRlcztcblxuXG4gICAgICAgICAgICBpZiAoU21hcnRGcmFtZUNvZGUgPT09IDApIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIFBhbmVsQm9keSxcbiAgICAgICAgICAgICAgICAgICAgeyB0aXRsZTogJ1NtYXJ0RnJhbWUgU2V0dGluZ3MnIH0sXG4gICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAnSW4gdGhpcyBzZWN0aW9uIHlvdSBjYW4gZW5hYmxlIG9yIGRpc2FibGUgU21hcnRGcmFtZSBhbmQgYXBwbHkgeW91ciBmYXZvdXJpdGUgdGhlbWUgb3IgY2FwdGlvbi4gUGxlYXNlIG5vdGUgdGhhdCBTbWFydEZyYW1lIHN1cHBvcnRzIEpQRUcgb25seS4gJ1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGhyZWY6IFNtYXJ0RnJhbWVVcmwuc2V0dGluZ3NQYWdlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnRW5hYmxlIFNtYXJ0RnJhbWUgZm9yIHlvdXIgd2Vic2l0ZSdcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjYXB0aW9uQW5kVGhlbWUgPSAnJztcbiAgICAgICAgICAgIHZhciBpbWFnZURpbW1lbnNpb25BbGVydCA9ICcnO1xuICAgICAgICAgICAgdmFyIGNoZWNrQm94VXNlU21hcnRmcmFtZSA9ICcnO1xuICAgICAgICAgICAgdmFyIHN0b3JhZ2VJbmZvID0gJyc7XG4gICAgICAgICAgICB2YXIgc2VlUHJldmlldyA9ICcnO1xuXG4gICAgICAgICAgICBpZiAoU21hcnRGcmFtZVN0b3JhZ2VFeGNlZWRlZCkge1xuICAgICAgICAgICAgICAgIHN0b3JhZ2VJbmZvID0gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAncCcsXG4gICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHsgY29sb3I6ICdyZWQnIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgJ1lvdSByZWFjaGVkIHRoZSBTbWFydEZyYW1lIHN0b3JhZ2UgbGltaXQuXFx4QTAnLFxuICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICAgICAgICB7IHRhcmdldDogJ19ibGFuaycsIGhyZWY6IFNtYXJ0RnJhbWVVcmwudXBncmFkZVBsYW4gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdVcGdyYWRlIHlvdXIgcGxhbidcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlZVByZXZpZXcgPSB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgJyAtICcsXG4gICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnc21hcnRmcmFtZS1tb2RhbC1wcmV2aWV3LW9wZW4nLCBocmVmOiAnIycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5vcGVuTW9kYWwgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdTZWUgcHJldmlldydcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBsb2MgPSBuZXcgVVJMKGF0dHJpYnV0ZXMudXJsKTtcbiAgICAgICAgICAgIGlmIChsb2MuaG9zdG5hbWUgPT09IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSkge1xuXG4gICAgICAgICAgICAgICAgY2hlY2tCb3hVc2VTbWFydGZyYW1lID0gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KENoZWNrYm94Q29udHJvbCwge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICcgVXNlIGFzIFNtYXJ0RnJhbWUgJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZVByZXZpZXdcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogYXR0cmlidXRlcy51c2Vfc21hcnRmcmFtZSA9PT0gJ3llcycsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBTbWFydEZyYW1lU3RvcmFnZUV4Y2VlZGVkLFxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5nZW5lcmF0ZVNtYXJ0RnJhbWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhJbWFnZVdpZHRoID4gdGhpcy5zdGF0ZS5pbWFnZURpbWVuc2lvbi5uYXR1cmFsV2lkdGggfHwgdGhpcy5tYXhJbWFnZUhlaWdodCA+IHRoaXMuc3RhdGUuaW1hZ2VEaW1lbnNpb24ubmF0dXJhbEhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIVNtYXJ0RnJhbWVTdG9yYWdlRXhjZWVkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRGltbWVuc2lvbkFsZXJ0ID0gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdjb21wb25lbnRzLWJhc2UtY29udHJvbF9fZmllbGQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdTI2QTBcXHVGRTBGIFNtYXJ0RnJhbWUgdGhlbWUgYW5kIGNhcHRpb24gYXJlIG5vdCBhdmFpbGFibGUgd2hlbiBpbWFnZSBkaW1lbnNpb25zIGFyZSBzbWFsbGVyIHRoYW4gMzIweDEyMHB4LidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjYXB0aW9uQW5kVGhlbWUgPSB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoU2VsZWN0Q29udHJvbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnU21hcnRmcmFtZSBUaGVtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGF0dHJpYnV0ZXMuc21hcnRmcmFtZV90aGVtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBTbWFydEZyYW1lQXZhaWxhYmxlVGhlbWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBdHRyaWJ1dGVzKHsgc21hcnRmcmFtZV90aGVtZTogdmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogYXR0cmlidXRlcy51c2Vfc21hcnRmcmFtZSA9PT0gJ25vJyB8fCBhdHRyaWJ1dGVzLnVzZV9zbWFydGZyYW1lID09PSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnc21hcnRmcmFtZS0tbWFuYWdlLXRoZW1lcy1pbWFnZS1lZGl0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogU21hcnRGcmFtZVVybC5tYW5hZ2VUaGVtZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogJ19ibGFuaycgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFuYWdlIHRoZW1lcydcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoVGV4dENvbnRyb2wsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ1NtYXJ0ZnJhbWUgQ2FwdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGF0dHJpYnV0ZXMuc21hcnRmcmFtZV9jYXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLnNlbmRTYXZlQ2FwdGlvbkNhbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IGF0dHJpYnV0ZXMudXNlX3NtYXJ0ZnJhbWUgPT09ICdubycgfHwgYXR0cmlidXRlcy51c2Vfc21hcnRmcmFtZSA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgbXlSZSA9IC9eYmxvYi9nO1xuICAgICAgICAgICAgICAgIGlmIChteVJlLmV4ZWModGhpcy5wcm9wcy5hdHRyaWJ1dGVzLnVybCkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tCb3hVc2VTbWFydGZyYW1lID0gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiAnY29tcG9uZW50cy1iYXNlLWNvbnRyb2xfX2ZpZWxkJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogJycgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdTI2QTBcXHVGRTBGIFNtYXJ0RnJhbWUgaXMgYXZhaWxhYmxlIG9ubHkgZm9yIGltYWdlcyBzdG9yZWQgaW4gdGhlIE1lZGlhIExpYnJhcnkuICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tJbWFnZUlzSnBnKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBQYW5lbEJvZHksXG4gICAgICAgICAgICAgICAgICAgIHsgdGl0bGU6ICdTbWFydEZyYW1lIFNldHRpbmdzJyB9LFxuICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAncCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0luIHRoaXMgc2VjdGlvbiB5b3UgY2FuIGVuYWJsZSBvciBkaXNhYmxlIFNtYXJ0RnJhbWUgYW5kIGFwcGx5IHlvdXIgZmF2b3VyaXRlIHRoZW1lIG9yIGNhcHRpb24uIFBsZWFzZSBub3RlIHRoYXQgU21hcnRGcmFtZSBzdXBwb3J0cyBKUEVHIG9ubHkuJ1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBsb2MuaG9zdG5hbWUgIT09IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSAmJiBjaGVja0JveFVzZVNtYXJ0ZnJhbWVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gd3AuZWxlbWVudC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIFBhbmVsQm9keSxcbiAgICAgICAgICAgICAgICB7IHRpdGxlOiAnU21hcnRGcmFtZSBTZXR0aW5ncycgfSxcbiAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdwJyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgJ0luIHRoaXMgc2VjdGlvbiB5b3UgY2FuIGVuYWJsZSBvciBkaXNhYmxlIFNtYXJ0RnJhbWUgYW5kIGFwcGx5IHlvdXIgZmF2b3VyaXRlIHRoZW1lIG9yIGNhcHRpb24uIFBsZWFzZSBub3RlIHRoYXQgU21hcnRGcmFtZSBzdXBwb3J0cyBKUEVHIG9ubHkuJ1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgaW1hZ2VEaW1tZW5zaW9uQWxlcnQsXG4gICAgICAgICAgICAgICAgc3RvcmFnZUluZm8sXG4gICAgICAgICAgICAgICAgY2hlY2tCb3hVc2VTbWFydGZyYW1lLFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuaXNPcGVuICYmIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgTW9kYWwsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3NtYXJ0ZnJhbWUtbW9kYWwtcHJldmlldycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1NtYXJ0RnJhbWUgUHJldmlldycsXG4gICAgICAgICAgICAgICAgICAgICAgICBvblJlcXVlc3RDbG9zZTogZnVuY3Rpb24gb25SZXF1ZXN0Q2xvc2UoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zZXRTdGF0ZSh7IGlzT3BlbjogZmFsc2UsIHNtYXJ0RnJhbWU6ICcnIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB9LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnNtYXJ0RnJhbWUgPT09ICcnICYmIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6ICdzbWFydGZyYW1lLW1vZGFsLXByZXZpZXctY29udGVudCcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdwLmVsZW1lbnQuY3JlYXRlRWxlbWVudChTcGlubmVyLCB7IGNsYXNzTmFtZTogJ3NtYXJ0ZnJhbWUtcHJldmlldy1zcGlubmVyJyB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB3cC5lbGVtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHsgY2xhc3NOYW1lOiAnc21hcnRmcmFtZS1tb2RhbC1wcmV2aWV3LXNtYXJ0ZnJhbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiB0aGlzLnN0YXRlLnNtYXJ0RnJhbWUgfSB9KVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgY2FwdGlvbkFuZFRoZW1lXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEV4dGVuZGVkQ29yZUltYWdlO1xufShUZXh0Q29udHJvbCk7XG5cbmV4cG9ydCBkZWZhdWx0IEV4dGVuZGVkQ29yZUltYWdlO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2ltYWdlL0V4dGVuZGVkQ29yZUltYWdlLmpzXG4vLyBtb2R1bGUgaWQgPSA5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9\n");

/***/ })
/******/ ]);